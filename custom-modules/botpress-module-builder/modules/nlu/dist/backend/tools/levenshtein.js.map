{"version":3,"sources":["tools/levenshtein.ts"],"names":["a","b","tmp","length","i","j","res","alen","blen","row","Array","keys","Math","min"],"mappings":";;;;;;;AAAA;;;;eAIe,CAACA,CAAD,EAAYC,CAAZ,KAAkC;AAC/C,MAAIC,GAAJ;;AAEA,MAAIF,CAAC,CAACG,MAAF,KAAa,CAAb,IAAkBF,CAAC,CAACE,MAAF,KAAa,CAAnC,EAAsC;AACpC,WAAO,CAAP;AACD;;AACD,MAAIH,CAAC,CAACG,MAAF,GAAWF,CAAC,CAACE,MAAjB,EAAyB;AACvBD,IAAAA,GAAG,GAAGF,CAAN;AACAA,IAAAA,CAAC,GAAGC,CAAJ;AACAA,IAAAA,CAAC,GAAGC,GAAJ;AACD;;AAED,MAAIE,CAAJ;AAAA,MACEC,CADF;AAAA,MAEEC,GAAW,GAAG,CAFhB;AAIA,QAAMC,IAAI,GAAGP,CAAC,CAACG,MAAf;AAAA,QACEK,IAAI,GAAGP,CAAC,CAACE,MADX;AAAA,QAEEM,GAAG,GAAG,CAAC,GAAGC,KAAK,CAACH,IAAI,GAAG,CAAR,CAAL,CAAgBI,IAAhB,EAAJ,CAFR;;AAIA,OAAKP,CAAC,GAAG,CAAT,EAAYA,CAAC,IAAII,IAAjB,EAAuBJ,CAAC,EAAxB,EAA4B;AAC1BE,IAAAA,GAAG,GAAGF,CAAN;;AACA,SAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,IAAIE,IAAjB,EAAuBF,CAAC,EAAxB,EAA4B;AAC1BH,MAAAA,GAAG,GAAGO,GAAG,CAACJ,CAAC,GAAG,CAAL,CAAT;AACAI,MAAAA,GAAG,CAACJ,CAAC,GAAG,CAAL,CAAH,GAAaC,GAAb;AACAA,MAAAA,GAAG,GAAGL,CAAC,CAACG,CAAC,GAAG,CAAL,CAAD,KAAaJ,CAAC,CAACK,CAAC,GAAG,CAAL,CAAd,GAAwBH,GAAxB,GAA8BU,IAAI,CAACC,GAAL,CAASX,GAAG,GAAG,CAAf,EAAkBI,GAAG,GAAG,CAAxB,EAA2BG,GAAG,CAACJ,CAAD,CAAH,GAAS,CAApC,CAApC;AACD;AACF;;AAED,SAAO,CAACE,IAAI,GAAGD,GAAR,IAAeC,IAAtB;AACD,C","sourceRoot":"/src/modules/nlu/src/backend","sourcesContent":["/**\n * Returns the levenshtein similarity between two strings\n * @returns the proximity between 0 and 1, where 1 is very close\n */\nexport default (a: string, b: string): number => {\n  let tmp\n\n  if (a.length === 0 || b.length === 0) {\n    return 0\n  }\n  if (a.length > b.length) {\n    tmp = a\n    a = b\n    b = tmp\n  }\n\n  let i: number,\n    j: number,\n    res: number = 0\n\n  const alen = a.length,\n    blen = b.length,\n    row = [...Array(alen + 1).keys()]\n\n  for (i = 1; i <= blen; i++) {\n    res = i\n    for (j = 1; j <= alen; j++) {\n      tmp = row[j - 1]\n      row[j - 1] = res\n      res = b[i - 1] === a[j - 1] ? tmp : Math.min(tmp + 1, res + 1, row[j] + 1)\n    }\n  }\n\n  return (alen - res) / alen\n}\n"]}